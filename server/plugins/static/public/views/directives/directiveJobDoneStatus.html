<div class="job">
	<div class="jobIdTitle"> Job id : </div> 
	<div class="idJob"> {{jobId}} </div> 
	
	<div class=jobStatus >
		Status : {{jobObject.jobstatus.status}} <br>
		<button type="button" class="btn btn-primary" ng-click="plotDataCircle()" ng-if="!viewCirclePlot"> Connectivity visualisation </button> 
		
		<button type="button" class="btn btn-primary" ng-click="removeCirclePlot()" ng-show="viewCirclePlot"> Hide Connectivity visualisation </button> 
		<br>
				
		<div ng-if="viewCirclePlot">
			<circle-plot plot-data="plotParameters.data"  > </circle-plot> 
		</div>

		<div class="divLinkDir"> 
	 		<a class="linkDownloadDir" href="/clusterpost/dataprovider/{{jobId}}/{{jobObject.outputs[2].name}}.tar.gz"> Download output directory </a><br>
	 	</div>
	
		<button class="btn btn-info" ng-click="getJobInfo()" ng-if="!getJobRequest"> Print job info </button> 
		
		<div class=jobInfo ng-if="getJobRequest">
			<button class="btn btn-info" ng-click="hideJobInfo()" > Hide job info </button> <br/>
			<div>
				Execution server : {{jobObject.executionserver}} <br/>
				User email : {{jobObject.userEmail}} <br/>
				Executable :  {{jobObject.executable}}
				<div class="parameters">
					PARAMETERS : <br/>
					Subject name :  {{jobObject.parameters[0].name}} <br/>
					DWI Image : {{jobObject.parameters[1].name}} <br/>
					T1 reference in DWI space : {{jobObject.parameters[2].name}} <br/>
					Brain mask in DWI space : {{jobObject.parameters[3].name}} <br/>
					Parcellation table (JSON file) : {{jobObject.parameters[4].name}} <br/>
					Inner surface : {{jobObject.parameters[5].name}} <br/>
					<div ng-if="sameSurface" style="text-indent: 15px; font-style: italic;">
						This surface contains color labels <br/>
					</div>
					<div ng-if="!sameSurface" style="text-indent: 15px; font-style: italic;">
						Alternative surface corresponding with color labels : {{jobObject.parameters[6].name}} <br/>
					</div>
					Label set name : {{jobObject.parameters[7].name}} <br/> 
					Ignore label : {{jobObject.parameters[8].name}} <br/>
					<div ng-if="ignoreLabelSet">
						Label ignored : {{jobObject.parameters[9].name}} <br/>
					</div>

					Use overlapping for surfaces extraction: {{jobObject.parameters[10].name}} <br/>
					Use loopcheck in tractography : {{jobObject.parameters[11].name}} <br/>
				</div>
			</div>
		</div>
		<div ng-show="!viewLogOutput">
			<button class="btn btn-info-outline viewOutputLog" ng-click="getOutputLogFile()"> View log output  </button> 
			<div ng-repeat="logLine in logFile track by $index"> {{logLine}} </div>
		</div>
		<div ng-show="viewLogOutput"> 
			<button class="btn btn-info-outline viewOutputLog" ng-click="hideOutputLogFile()"> Hide log output  </button> 
		</div>


		<div ng-show="!viewLogErrorOutput">
			<button class="btn btn-info-outline viewOutputLogError" ng-click="getOutputErrorLogFile()"> View log error output  </button> <br>
			<div ng-repeat="errorLine in logErrorFile track by $index"> {{errorLine}} </div>
		</div>
		<div ng-show="viewLogErrorOutput">
			<button class="btn btn-info-outline viewOutputLogError" ng-click="hideOutputErrorLogFile()"> Hide log error output  </button> <br>
		</div>

		<button type="button" class="btn btn-info" ng-click="reRunJob()"> Restart job </button>

		<div ng-if="!jobDelete"> 
			<button class="btn btn-danger" ng-click="deleteJob()"> Delete Job in database </button> 
		</div>

		<div ng-if="jobDelete"> 
			<button class="btn btn-danger" ng-click="deleteJob()"> Delete Job in database </button> 
			<span class="glyphicon glyphicon-ok" aria-hidden="true">  </span>
		</div> 

		<div ng-if="computePCA">
		<label>	Select for compute PCA <input type="checkbox" name="selectJobPCA" value="selectJobPCA" ng-model="selectJobPCA" ng-init="selectJobPCA=false" id="checkbox_{{jobId}}" /> </label>
		</div>
	</div>
</div>


